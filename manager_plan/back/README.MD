# Інформація про слоти
Повертаємо по тижнях.
Службова таблиця
work_weeks
id/date_start/date_finish

Необхідна для того, визначати активний тиждень:

Запит:
/active_week_id
Відповідь: 
id

Запит:
/current_week :manager_id
Відповідь:
{week_id:1,
manager_id:1,
slots:[
    [{8;0},{9;0},{10;0},{11;1},{12;1},{13;1},{14;1},{15;1},{16;1},{17;1},{18;1},{19;1},{20;1},{21;1},{22;0}],
    [{8;0},{9;0},{10;0},{11;1},{12;1},{13;1},{14;1},{15;2},{16;1},{17;1},{18;1},{19;1},{20;1},{21;1},{22;0}],
    [{8;0},{9;0},{10;0},{11;1},{12;1},{13;1},{14;1},{15;1},{16;1},{17;1},{18;1},{19;1},{20;1},{21;1},{22;0}],
    [{8;0},{9;0},{10;0},{11;1},{12;1},{13;1},{14;1},{15;1},{16;1},{17;1},{18;1},{19;1},{20;1},{21;1},{22;0}],
    [{8;0},{9;0},{10;0},{11;1},{12;1},{13;1},{14;1},{15;1},{16;1},{17;1},{18;1},{19;1},{20;1},{21;1},{22;0}],
    [{8;0},{9;0},{10;1},{11;1},{12;1},{13;1},{14;1},{15;1},{16;1},{17;1},{18;1},{19;1},{20;1},{21;0},{22;0}],
    [{8;0},{9;0},{10;1},{11;1},{12;1},{13;1},{14;1},{15;1},{16;1},{17;1},{18;1},{19;1},{20;1},{21;0},{22;0}]
    ]
}

Запит:
/get_week :manager_id :id
/get_week manager_id:1, id:2

Відповідь:
{week_id:2,
manager_id:1,
slots:[
    [{8;0},{9;0},{10;0},{11;1},{12;1},{13;1},{14;1},{15;1},{16;1},{17;1},{18;1},{19;1},{20;1},{21;1},{22;0}],
    [{8;0},{9;0},{10;0},{11;1},{12;1},{13;1},{14;1},{15;2},{16;1},{17;1},{18;1},{19;1},{20;1},{21;1},{22;0}],
    [{8;0},{9;0},{10;0},{11;1},{12;1},{13;1},{14;1},{15;1},{16;1},{17;1},{18;1},{19;1},{20;1},{21;1},{22;0}],
    [{8;0},{9;0},{10;0},{11;1},{12;1},{13;1},{14;1},{15;1},{16;1},{17;1},{18;1},{19;1},{20;1},{21;1},{22;0}],
    [{8;0},{9;0},{10;0},{11;1},{12;1},{13;1},{14;1},{15;1},{16;1},{17;1},{18;1},{19;1},{20;1},{21;1},{22;0}],
    [{8;0},{9;0},{10;1},{11;1},{12;1},{13;1},{14;1},{15;1},{16;1},{17;1},{18;1},{19;1},{20;1},{21;0},{22;0}],
    [{8;0},{9;0},{10;1},{11;1},{12;1},{13;1},{14;1},{15;1},{16;1},{17;1},{18;1},{19;1},{20;1},{21;0},{22;0}]
    ]
}


Запит:
/update_slot :week_id/:week_day/:hour/:type


/update_slot week_id:1/week_day:0/hour:10/type:1
{week_id:1,
manager_id:1,
slots:[
    [{8;0},{9;0},{10;1},{11;1},{12;1},{13;1},{14;1},{15;1},{16;1},{17;1},{18;1},{19;1},{20;1},{21;1},{22;0}],
    [{8;0},{9;0},{10;0},{11;1},{12;1},{13;1},{14;1},{15;2},{16;1},{17;1},{18;1},{19;1},{20;1},{21;1},{22;0}],
    [{8;0},{9;0},{10;0},{11;1},{12;1},{13;1},{14;1},{15;1},{16;1},{17;1},{18;1},{19;1},{20;1},{21;1},{22;0}],
    [{8;0},{9;0},{10;0},{11;1},{12;1},{13;1},{14;1},{15;1},{16;1},{17;1},{18;1},{19;1},{20;1},{21;1},{22;0}],
    [{8;0},{9;0},{10;0},{11;1},{12;1},{13;1},{14;1},{15;1},{16;1},{17;1},{18;1},{19;1},{20;1},{21;1},{22;0}],
    [{8;0},{9;0},{10;1},{11;1},{12;1},{13;1},{14;1},{15;1},{16;1},{17;1},{18;1},{19;1},{20;1},{21;0},{22;0}],
    [{8;0},{9;0},{10;1},{11;1},{12;1},{13;1},{14;1},{15;1},{16;1},{17;1},{18;1},{19;1},{20;1},{21;0},{22;0}]
    ]
}


Відповідь:
{week_id:1,
manager_id:1,
slots:[
    [{8;0},{9;0},{10;1},{11;1},{12;1},{13;1},{14;1},{15;1},{16;1},{17;1},{18;1},{19;1},{20;1},{21;1},{22;0}],
    [{8;0},{9;0},{10;0},{11;1},{12;1},{13;1},{14;1},{15;2},{16;1},{17;1},{18;1},{19;1},{20;1},{21;1},{22;0}],
    [{8;0},{9;0},{10;0},{11;1},{12;1},{13;1},{14;1},{15;1},{16;1},{17;1},{18;1},{19;1},{20;1},{21;1},{22;0}],
    [{8;0},{9;0},{10;0},{11;1},{12;1},{13;1},{14;1},{15;1},{16;1},{17;1},{18;1},{19;1},{20;1},{21;1},{22;0}],
    [{8;0},{9;0},{10;0},{11;1},{12;1},{13;1},{14;1},{15;1},{16;1},{17;1},{18;1},{19;1},{20;1},{21;1},{22;0}],
    [{8;0},{9;0},{10;1},{11;1},{12;1},{13;1},{14;1},{15;1},{16;1},{17;1},{18;1},{19;1},{20;1},{21;0},{22;0}],
    [{8;0},{9;0},{10;1},{11;1},{12;1},{13;1},{14;1},{15;1},{16;1},{17;1},{18;1},{19;1},{20;1},{21;0},{22;0}]
    ]
}


Запит: 
/save_template {
    manager_id:1,
    slots:[
    [{8;0},{9;0},{10;1},{11;1},{12;1},{13;1},{14;1},{15;1},{16;1},{17;1},{18;1},{19;1},{20;1},{21;1},{22;0}],
    [{8;0},{9;0},{10;0},{11;1},{12;1},{13;1},{14;1},{15;2},{16;1},{17;1},{18;1},{19;1},{20;1},{21;1},{22;0}],
    [{8;0},{9;0},{10;0},{11;1},{12;1},{13;1},{14;1},{15;1},{16;1},{17;1},{18;1},{19;1},{20;1},{21;1},{22;0}],
    [{8;0},{9;0},{10;0},{11;1},{12;1},{13;1},{14;1},{15;1},{16;1},{17;1},{18;1},{19;1},{20;1},{21;1},{22;0}],
    [{8;0},{9;0},{10;0},{11;1},{12;1},{13;1},{14;1},{15;1},{16;1},{17;1},{18;1},{19;1},{20;1},{21;1},{22;0}],
    [{8;0},{9;0},{10;1},{11;1},{12;1},{13;1},{14;1},{15;1},{16;1},{17;1},{18;1},{19;1},{20;1},{21;0},{22;0}],
    [{8;0},{9;0},{10;1},{11;1},{12;1},{13;1},{14;1},{15;1},{16;1},{17;1},{18;1},{19;1},{20;1},{21;0},{22;0}]
    ]
}
Відповідь:
1
Зберігаємо в таблицю:
week_templates id/manager_id/template

/set_template :teplate_id/:week_id
В результаті - до 

